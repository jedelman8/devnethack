---

 - name: hackathon
   gather_facts: no
   connection: local
   hosts: switch.devnet.com

   vars:
     user_identity: 0

   tasks:

     - nxos_switchport: interface={{ interface }} mode=access access_vlan=10 host={{ inventory_hostname}}
       when: user_identity == 0

     - nxos_switchport: interface={{ interface }} mode=access access_vlan=20 host={{ inventory_hostname}}
       when: user_identity != 0


